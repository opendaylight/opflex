{
  "comments": [
    {
      "key": {
        "uuid": "ba8cc1f7_c109ce96",
        "filename": "agent-ovs/src/enforcer/test/connection_test.cpp",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 46
      },
      "writtenOn": "2014-10-28T20:16:44Z",
      "side": 1,
      "message": "There is no way we\u0027ll ever get this test to pass on the integration system",
      "revId": "6c65489864e1d6c104cde0916472f589c427a0f5",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba8cc1f7_21f8ba7b",
        "filename": "agent-ovs/src/enforcer/test/connection_test.cpp",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 2686
      },
      "writtenOn": "2014-10-28T20:40:57Z",
      "side": 1,
      "message": "Integration tests won\u0027t break. Unfortunately, the absence of an OVS library means that all the OVS-interfacing code is not built/tested by Jenkins.",
      "parentUuid": "ba8cc1f7_c109ce96",
      "revId": "6c65489864e1d6c104cde0916472f589c427a0f5",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba8cc1f7_e12e52a5",
        "filename": "agent-ovs/src/enforcer/test/connection_test.cpp",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 46
      },
      "writtenOn": "2014-10-29T01:52:02Z",
      "side": 1,
      "message": "At some point very soon however we\u0027ll need to add the OVS library to jenkins so that it can build and run the tests.  We need to come up with a way so that the unit tests don\u0027t depend on a system OVS.  Can we mock the socket interface?",
      "parentUuid": "ba8cc1f7_21f8ba7b",
      "revId": "6c65489864e1d6c104cde0916472f589c427a0f5",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba8cc1f7_274bea2c",
        "filename": "agent-ovs/src/enforcer/test/connection_test.cpp",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 2686
      },
      "writtenOn": "2014-10-29T16:48:04Z",
      "side": 1,
      "message": "Yes, I\u0027ll get Jenkins to build OVS very soon.\n\nRegarding testing: For something as basic as the connection stuff, I don\u0027t think we really want to test against an ad-hoc, mock switch. Doing the mock properly will be a fair amount of work, and I\u0027m not sure it is worth. On the other hand, given that all this stuff requires OVS anyway, it is not unreasonable to expect the system that it will run on to have OVS. We can make the test self-contained though so that it takes care of setting up whatever it needs.",
      "parentUuid": "ba8cc1f7_e12e52a5",
      "revId": "6c65489864e1d6c104cde0916472f589c427a0f5",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba8cc1f7_871436f6",
        "filename": "agent-ovs/src/enforcer/test/connection_test.cpp",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 46
      },
      "writtenOn": "2014-10-29T17:40:10Z",
      "side": 1,
      "message": "It\u0027s fine if it requires the OVS library, but not if it requires OVS to be running and set up in a certain way.  That\u0027s an integration test not a unit test.  It\u0027s easy to imagine this could even cause problems in the event that someone builds the library on the system they\u0027re trying to use it on; we\u0027re likely to mess up their OVS setup.\n\nPerhaps we can move any tests that require this to a separate integration test that doesn\u0027t run when you run make check.  We can add a make integration target or similar.",
      "parentUuid": "ba8cc1f7_274bea2c",
      "revId": "6c65489864e1d6c104cde0916472f589c427a0f5",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}