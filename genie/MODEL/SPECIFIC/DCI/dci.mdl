module[dci]
{

    class[Universe;
          abstract;
          ]
    {
        # All Universes are instantiated under the root
        root
    }


    class[Discoverer;
          super=dci/Universe;
          concrete;
          ]
    {
        named
        {
            parent[class=*;]
            {
                component[prefix=dci-discoverer;]
            }
        }
    }

    class[DciEp;
          super=epr/LocalNetworkEp;
          concrete
          ]
    {
        named
        {
            parent[class=*;]
            {
                component[prefix=dci-ep;]
            }
        }

        dependency[group;
                   cardinality=single;
                   ]
        {
            to[class=dci/Dci;
                cardinality=single;
                ]
        }

        contained
        {
            parent[class=dci/Discoverer]
        }
    }

    class[Dci;
          super=policy/NameResolvedDefinition;
          concrete;
          ]
    {
        contained
        {
            parent[class=policy/Space]
        }
        named
        {
            parent[class=*;]
            {
                component[prefix=dci;]
            }
        }
    }

    class[Domain;
          super=policy/NameResolvedDefinition;
          concrete;
          ]
    {
        contained
        {
            parent[class=policy/Space]
        }
        named
        {
            parent[class=*;]
            {
                component[prefix=dci;
                          member=name]
            }
        }
        dependency[network;
                   cardinality=single;
                   ]
        {
            to[class=gbp/RoutingDomain;
               cardinality=many;
               ]
        }
    }

    type[AddressFamily; super=scalar/Enum8]
    {
        const[name=l2vpn_evpn; value=0]
        const[name=ipv4; value=4]
        const[name=ipv6; value=6]
    }

    type[TargetType; super=scalar/Enum8]
    {
        const[name=fabricImport; value=0]
        const[name=fabricExport; value=1]
    }

    class[RouteTargetPdef;
          super=policy/NameResolvedDefinition;
          concrete;
          ]
    {
        contained
        {
            parent[class=gbp/RoutingDomain]
        }
        named
        {
            parent[class=*;]
            {
                component[prefix=route-target-pdef;
                          member=name]
            }
        }
        member[af; type=dci/AddressFamily]
    }

    class[RouteTargetDef;
          super=policy/NameResolvedDefinition;
          concrete;
          ]
    {
        contained
        {
            parent[class=dci/RouteTargetPdef]
        }
        named
        {
            parent[class=*;]
            {
                component[prefix=route-target-def;
                          member=name]
            }
        }
        member[targetAf; type=dci/AddressFamily]
        member[type; type=dci/TargetType]
        member[rtAS; type=scalar/UInt16]
        member[rtNN; type=scalar/UInt32]
    }
}
