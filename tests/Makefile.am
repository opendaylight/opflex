# /*
#  * Copyright (c) 2014 Cisco Systems, Inc. and others.  All rights reserved.
#  *
#  * This program and the accompanying materials are made available under the
#  * terms of the Eclipse Public License v1.0 which accompanies this distribution,
#  * and is available at http://www.eclipse.org/legal/epl-v10.html
#  */

bin_PROGRAMS = test-modb
bin_PROGRAMS += test-uri-parser
# bin_PROGRAMS += test_pag_selector
# bin_PROGRAMS += test_pag_dispatcher
bin_PROGRAMS += test-eventq
METASOURCES = AUTO

test_modb_SOURCES = test-modb.c
test_uti_parser = test-uri-parser.c
# test_pag_selector = test_pag_selector.c
# test_pag_dispatcher = test_pag_dispatcher.c
test_eventq = test-eventq.c


# set the include path found by configure

CFLAGS=-g -O0 -Wall -DUSE_TEST_CONFIG -I/usr/local/include -I$(top_builddir)/include -I$(top_builddir)/third-party -I$(top_builddir)/modb -I$(top_builddir)/lib -I$(srcdir)
CPPFLAGS=-DBSD_COMP=1 

# the library search path.
# pagentd_LDFLAGS = $(all_libraries)
LDFLAGS = -L/usr/lib -L$(srcdir)/../lib -lssl -lcrypto -lrt -lreadline -lnsl -lm -lpthread -lcmocka -L/usr/local/lib -ltcmalloc
test_modb_LDADD = $(top_builddir)/third-party/libdbug.so.la $(top_builddir)/third-party/lib3party.so.la $(top_builddir)/lib/libpag.so.la $(top_builddir)/modb/libmodb.so.la 
test_uri_parser_LDADD = $(top_builddir)/third-party/libdbug.so.la $(top_builddir)/third-party/lib3party.so.la $(top_builddir)/lib/libpag.so.la
# test_pag_selector_LDADD = $(top_builddir)/third-party/libdbug.so.la $(top_builddir)/third-party/lib3party.so.la $(top_builddir)/lib/libpag.so.la
# test_pag_dispatcher_LDADD = $(top_builddir)/third-party/libdbug.so.la $(top_builddir)/third-party/lib3party.so.la $(top_builddir)/lib/libpag.so.la 

test_eventq_LDADD = $(test_uri_parser_LDADD)

bin_test_modb = $(srcdir)/tests
bin_test_uri_parser = $(srcdir)/tests
# bin_test_pag_selector = $(srcdir)/tests
# bin_test_pag_dispatcher = $(srcdir)/tests
bin_test_eventq = $(srcdir)/tests
